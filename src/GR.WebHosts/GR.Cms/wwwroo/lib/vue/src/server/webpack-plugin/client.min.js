/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/vue@2.6.11/src/server/webpack-plugin/client.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const hash=require("hash-sum"),uniq=require("lodash.uniq");import{isJS,isCSS,onEmit}from"./util";export default class VueSSRClientPlugin{constructor(s={}){this.options=Object.assign({filename:"vue-ssr-client-manifest.json"},s)}apply(s){onEmit(s,"vue-client-plugin",(s,e)=>{const i=s.getStats().toJson(),t=uniq(i.assets.map(s=>s.name)),n=uniq(Object.keys(i.entrypoints).map(s=>i.entrypoints[s].assets).reduce((s,e)=>e.concat(s),[]).filter(s=>isJS(s)||isCSS(s))),l=t.filter(s=>isJS(s)||isCSS(s)).filter(s=>n.indexOf(s)<0),a={publicPath:i.publicPath,all:t,initial:n,async:l,modules:{}},o=i.modules.filter(s=>s.assets.length),u=s=>a.all.indexOf(s);i.modules.forEach(s=>{if(1===s.chunks.length){const e=s.chunks[0],t=i.chunks.find(s=>s.id===e);if(!t||!t.files)return;const n=s.identifier.replace(/\s\w+$/,""),l=a.modules[hash(n)]=t.files.map(u);o.forEach(s=>{s.chunks.some(s=>s===e)&&l.push.apply(l,s.assets.map(u))})}});const c=JSON.stringify(a,null,2);s.assets[this.options.filename]={source:()=>c,size:()=>c.length},e()})}}
//# sourceMappingURL=/sm/c2b31ea962706e81a17e494fc336292be6fb6b9c74b700c0c44e4a3110042bad.map